<!-- base.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ShiftMate</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.1.2/dist/tailwind.min.css" rel="stylesheet">
    <link rel="icon" href="../../../media/images/logo.png" type="image/x-icon">


</head>
<body class="bg-gray-100">
    {% if messages %}
        <style>
            /* Custom Toast Styles */
            .toast-container {
                position: fixed;
                top: 0;
                right: 0;
                padding: 20px;
                z-index: 1050;
                margin-top: 10px;
            }

            .toast {
                display: block;
                opacity: 0;
                background-color: #198754; /* Bootstrap success color */
                color: white;
                border-radius: 0.375rem; /* Round the corners */
                animation: slideInFromTop 0.5s ease-out forwards;
                width: auto; /* Adjust width to content */
                max-width: 400px; /* Optional: Limit the width */
            }

            .toast .toast-body {
                color: white; /* Text color inside the toast */
                text-align: center; /* Center the text */
                padding: 10px; /* Optional: padding for better spacing */
            }

            .toast .btn-close {
                color: white;
                opacity: 1; /* Ensure the close button is visible */
                padding: 0.25rem 0.5rem;
                font-size: 1.25rem; /* Larger close button */
                line-height: 1; /* Center the button properly */
                position: absolute;
                top: 10px;
                right: 10px;
            }

            /* Sliding animation */
            @keyframes slideInFromTop {
                0% {
                    transform: translateY(-100%);
                    opacity: 0;
                }
                100% {
                    transform: translateY(0);
                    opacity: 1;
                }
            }

            /* Optional: Add spacing for the toast */
            .toast-container .toast + .toast {
                margin-top: 10px;
            }

        </style>

        <div class="toast-container">
            {% for message in messages %}
                <div class="toast" role="alert" aria-live="assertive" aria-atomic="true">
                    <div class="d-flex">
                        <div class="toast-body">
                            {{ message }}
                        </div>
                        <button type="button" class="btn-close me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
                    </div>
                </div>
            {% endfor %}
        </div>

        <!-- Bootstrap JS (dynamically added only when messages are present) -->
        <script>
            // Wait for the DOM to be loaded
            document.addEventListener('DOMContentLoaded', function () {
                if (typeof bootstrap !== 'undefined' && bootstrap.Toast) {
                    // Initialize the toast manually (Bootstrap 5)
                    var toasts = document.querySelectorAll('.toast');
                    toasts.forEach(function(toast) {
                        new bootstrap.Toast(toast).show();
                                                setTimeout(function() {
                            var toastInstance = bootstrap.Toast.getInstance(toast);
                            toastInstance.hide();
                        }, 5000); // 5000ms = 5 second
                    });
                } else {
                    // If Bootstrap is not loaded, you can load it dynamically
                    var script = document.createElement('script');
                    script.src = 'https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js';
                    document.body.appendChild(script);
                    script.onload = function() {
                        var toasts = document.querySelectorAll('.toast');
                        toasts.forEach(function(toast) {
                            new bootstrap.Toast(toast).show();
                                                    setTimeout(function() {
                            var toastInstance = bootstrap.Toast.getInstance(toast);
                            toastInstance.hide();
                        }, 5000); // 5000ms = 5 second
                        });
                    };
                }
            });
        </script>
    {% endif %}

</body>


    <header class="bg-blue-600 text-white py-4">
    </header>
    {% include "home/menu.html" %}
    <div class="container mx-auto mt-8">
        {% block content %}
        <!-- Content goes here -->
        {% endblock %}
    </div>
</body>
</html>